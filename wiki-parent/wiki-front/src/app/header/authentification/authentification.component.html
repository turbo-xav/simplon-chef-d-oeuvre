<div *ngIf="user == null; then loginBlock; else userLogOutBlock">

</div>
<p>Form Status: {{ profileForm.status }}</p>
<pre>Error : {{ login.valid }}
</pre>

<ng-template #loginBlock>  
  <div class="row">
  <div class="col-5">
  <form class="needs-validation" novalidate [formGroup]="profileForm">
      <div class="form-group row">
        <label class="col-4 col-form-label" for="uid">UID</label>
        <div class="col-8">
          <input type="text" class="form-control" [ngClass]="{'is-invalid': login.invalid && login.dirty, 'is-valid': login.valid && login.dirty}" formControlName="login" id="uid" placeholder="UID" />
            <div *ngIf="login.invalid && (login.dirty || login.touched)" class="invalid-feedback">
              <div *ngIf="login.errors.required">Your UID is required.</div>
              <div *ngIf="login.errors.minlength || login.errors.maxlength">Your UID must contain 6 characters (ex : A23515 or 417165)</div>
          </div>
        </div>        
      </div>
      <div class="form-group row">
          <label class="col-4 col-form-label" for="password">Password</label>
          <div class="col-8">
            <input type="password" class="form-control" id="password" [ngClass]="{'is-invalid': password.invalid && password.dirty, 'is-valid': password.valid && password.dirty}" formControlName="password" placeholder="Password" />
            <div *ngIf="password.invalid && (password.dirty || password.touched)" class="invalid-feedback">
                <div *ngIf="password.errors.required">Your password is required.</div>
            </div>
          </div>
        </div>                
     
      </form>
    </div>
    <div class="col-7">
        <button class="btn btn-primary" type="submit" (click)="auth()">Sign In</button>
        or
        <button type="button" class="btn btn-outline-primary">Sign Up ?</button>
        <a href="https://mypassword.group.echonet/ui/home" class="badge badge-primary" target="_blank">Lost password ?</a>
    </div>
    </div>
  <!--<div class="align">
    <form class="form-inline my-2 my-xl-0" [formGroup]="profileForm">

       
    <div class="form-control-feedback" *ngIf="login.errors && (login.dirty || login.touched)">
      <p *ngIf="login.errors.required">Password is required</p>
      <p *ngIf="login.errors.minlength">Password must be 8 characters long</p>
    </div>
        
    <input class="form-control" [ngClass]="{'ko': login.invalid && login.dirty, 'ok': login.valid && login.dirty}"  formControlName="login"  required type="text" id="login" name="login"  placeholder="Login" />
     
      <input class="form-control"  formControlName="password" required type="password" id="password" name="password" placeholder="Password" />
      
      <div>
        <button type="button" class="btn btn-primary" (click)="auth()">Sign In</button>
       or <button type="button" class="btn btn-outline-primary">Sign Up ?</button>
        <a href="#" class="badge badge-primary">Lost password ?</a>
      </div>
    </form>  
  </div>-->
</ng-template>
<ng-template #userLogOutBlock>
  <a (click)="logOut()">LogOut</a>
</ng-template>
